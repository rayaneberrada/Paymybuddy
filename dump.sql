CREATE USER IF NOT EXISTS "TEST" SALT '32e070cf4b3ddb5c' HASH '0d28d0237fb85a0d4bf02533fdcc52bef513fc0c56874621f06f2b2c6d79f9a6' ADMIN;
CREATE
SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_F17FEFF6_E620_4C4A_84B0_EC20717B0262" START
WITH 5 BELONGS_TO_TABLE;
CREATE
SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_18B4C714_E788_4B7A_8025_7C4FCC2D68BB" START
WITH 7 BELONGS_TO_TABLE;
CREATE
SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_60F42CDB_D8D3_4BF7_9DB0_C55A24EF688A" START
WITH 6 BELONGS_TO_TABLE;
CREATE
SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_8A3C5EBD_4A2B_4709_BE7A_5D5A13386FB2" START
WITH 7 BELONGS_TO_TABLE;
CREATE
MEMORY TABLE "PUBLIC"."BENEFICIARY"(
    "ID" INTEGER DEFAULT NEXT VALUE FOR "PUBLIC"."SYSTEM_SEQUENCE_18B4C714_E788_4B7A_8025_7C4FCC2D68BB" NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_18B4C714_E788_4B7A_8025_7C4FCC2D68BB",
    "USER_RECEIVING_ID" INTEGER,
    "USER_SENDING_ID" INTEGER
);
ALTER TABLE "PUBLIC"."BENEFICIARY"
    ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY ("ID");
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.BENEFICIARY;             
INSERT INTO "PUBLIC"."BENEFICIARY"
VALUES (1, 2, 1),
       (2, 3, 1),
       (3, 4, 1),
       (4, 3, 2),
       (5, 4, 2),
       (6, 1, 4);
CREATE
MEMORY TABLE "PUBLIC"."CARD"(
    "ID" INTEGER DEFAULT NEXT VALUE FOR "PUBLIC"."SYSTEM_SEQUENCE_60F42CDB_D8D3_4BF7_9DB0_C55A24EF688A" NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_60F42CDB_D8D3_4BF7_9DB0_C55A24EF688A",
    "EXPIRATION_DATE" TIMESTAMP,
    "NUMBER" VARCHAR(50),
    "USER_ID" INTEGER
);
ALTER TABLE "PUBLIC"."CARD"
    ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" PRIMARY KEY ("ID");
-- 5 +/- SELECT COUNT(*) FROM PUBLIC.CARD;    
INSERT INTO "PUBLIC"."CARD"
VALUES (1, TIMESTAMP '2021-10-01 00:00:00', '1234546712340978', 1),
       (2, TIMESTAMP '2022-12-01 00:00:00', '8694387340384723', 2),
       (3, TIMESTAMP '2022-08-01 00:00:00', '8213434340384723', 3),
       (4, TIMESTAMP '2021-05-01 00:00:00', '4394387340332134', 2),
       (5, TIMESTAMP '2021-09-01 00:00:00', '0998387340384123', 4);
CREATE
MEMORY TABLE "PUBLIC"."TRANSACTIONS"(
    "ID" INTEGER DEFAULT NEXT VALUE FOR "PUBLIC"."SYSTEM_SEQUENCE_8A3C5EBD_4A2B_4709_BE7A_5D5A13386FB2" NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_8A3C5EBD_4A2B_4709_BE7A_5D5A13386FB2",
    "AMOUNT" INTEGER NOT NULL,
    "DATE" TIMESTAMP,
    "USER_RECEIVING_ID" INTEGER,
    "USER_SENDING_ID" INTEGER
);
ALTER TABLE "PUBLIC"."TRANSACTIONS"
    ADD CONSTRAINT "PUBLIC"."CONSTRAINT_F" PRIMARY KEY ("ID");
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.TRANSACTIONS;            
INSERT INTO "PUBLIC"."TRANSACTIONS"
VALUES (1, 300, TIMESTAMP '2021-01-01 00:00:00', 2, 1),
       (2, 760, TIMESTAMP '2020-12-04 00:00:00', 3, 1),
       (3, 576, TIMESTAMP '2020-10-09 00:00:00', 1, 2),
       (4, 124, TIMESTAMP '2020-12-12 00:00:00', 3, 4),
       (5, 20, TIMESTAMP '2020-10-30 00:00:00', 4, 3),
       (6, 10, TIMESTAMP '2021-01-01 00:00:00', 4, 2);
CREATE
MEMORY TABLE "PUBLIC"."USER"(
    "ID" INTEGER DEFAULT NEXT VALUE FOR "PUBLIC"."SYSTEM_SEQUENCE_F17FEFF6_E620_4C4A_84B0_EC20717B0262" NOT NULL NULL_TO_DEFAULT SEQUENCE "PUBLIC"."SYSTEM_SEQUENCE_F17FEFF6_E620_4C4A_84B0_EC20717B0262",
    "EMAIL" VARCHAR(255),
    "ENABLED" BOOLEAN,
    "MONEY" INTEGER NOT NULL,
    "PASSWORD" VARCHAR(255),
    "ROLE" VARCHAR(255),
    "USERNAME" VARCHAR(255)
);
ALTER TABLE "PUBLIC"."USER"
    ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY ("ID");
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.USER;    
INSERT INTO "PUBLIC"."USER"
VALUES (1, 'be@gmail.cm', TRUE, 1000, 'abcd', 'USER', 'rayane'),
       (2, 'danielradcliff@gmail.cm', TRUE, 746, '1234', 'USER', 'daniel'),
       (3, 'herveyheipstein@gmail.cm', FALSE, 100000000, '1234', 'USER', 'hervey'),
       (4, 'johnboyd@gmail.cm', TRUE, 500, '1234', 'USER', 'john');
ALTER TABLE "PUBLIC"."TRANSACTIONS"
    ADD CONSTRAINT "PUBLIC"."FKJW0VQIEXI71VDX8DM0XVN4UV3" FOREIGN KEY ("USER_SENDING_ID") REFERENCES "PUBLIC"."USER" ("ID") NOCHECK;
ALTER TABLE "PUBLIC"."TRANSACTIONS"
    ADD CONSTRAINT "PUBLIC"."FK4874L5G5WQEDXR1UEDS3WUWL6" FOREIGN KEY ("USER_RECEIVING_ID") REFERENCES "PUBLIC"."USER" ("ID") NOCHECK;
ALTER TABLE "PUBLIC"."CARD"
    ADD CONSTRAINT "PUBLIC"."FKL4GBYM62L738ID056Y12RT6Q6" FOREIGN KEY ("USER_ID") REFERENCES "PUBLIC"."USER" ("ID") NOCHECK;
ALTER TABLE "PUBLIC"."BENEFICIARY"
    ADD CONSTRAINT "PUBLIC"."FKAQ3FT23LEGIBPDHGOYIINBWX9" FOREIGN KEY ("USER_RECEIVING_ID") REFERENCES "PUBLIC"."USER" ("ID") NOCHECK;
ALTER TABLE "PUBLIC"."BENEFICIARY"
    ADD CONSTRAINT "PUBLIC"."FKIH9WW2MG4VNSEI8NUSQYLS92K" FOREIGN KEY ("USER_SENDING_ID") REFERENCES "PUBLIC"."USER" ("ID") NOCHECK;
